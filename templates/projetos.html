<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Projetos - Jo√£o Pedro dos Santos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='js/functions.js') }}"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    >
</head>
<body class="projects" id="body">
{% include "header__curri-proj-hab.html" %}
<main class="main__projects">

<section class="main__projects__card">
    <p class="main__projects__card__intruction">Arraste para o lado...</p>
    <div class="swiper swiper-cards">
        <div class="swiper-wrapper">
            {% for project in projects %}
            <div class="swiper-slide">
                <article class="project-card">
                    <span class="project-tag">
                        {{ project.tag }}
                    </span>
                    <h3 class="project-title">
                        {{ project.nameproject }}
                    </h3>
                    <p class="project-description">
                        {{ project.descricao }}
                    </p>
                    <div class="project-footer">
                        {% if project.link %}
                        <div class="project-link">
                            <a href="https://{{ project.link }}" target="_blank">
                                {{ project.link }}
                            </a>
                        </div>
                        {% endif %}
                        <div class="swiper swiper-images">
                            <div class="swiper-wrapper">
                                {% if project.imagemprincipal %}
                                <div class="swiper-slide">
                                    <img src="{{ project.imagemprincipal }}" class="project-image" alt="{{ project.nameproject }}">
                                </div>
                                {% endif %}
                                {% if project.imagemum %}
                                <div class="swiper-slide">
                                    <img src="{{ project.imagemum }}" class="project-image" alt="{{ project.nameproject }}">
                                </div>
                                {% endif %}
                                {% if project.imagemdois %}
                                <div class="swiper-slide">
                                    <img src="{{ project.imagemdois }}" class="project-image" alt="{{ project.nameproject }}">
                                </div>
                                {% endif %}
                                {% if project.imagemtres %}
                                <div class="swiper-slide">
                                    <img src="{{ project.imagemtres }}" class="project-image" alt="{{ project.nameproject }}">
                                </div>
                                {% endif %}
                            </div>
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-button-next"></div>
                            <div class="swiper-pagination"></div>
                        </div>
                    </div>
                </article>
            </div>
            {% endfor %}
        </div>
        <div class="swiper-pagination swiper-pagination-cards"></div>
    </div>
</section>

</main>
{% include "footer.html" %}
<div class="image-modal" id="imageModal">
    <span class="image-modal-close" id="closeModal">&times;</span>
    <img class="image-modal-content" id="modalImage">
</div>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
    // Swiper dos cards (arrasta)
    new Swiper('.swiper-cards', {
        grabCursor: true,
        freeMode: true,
        slidesPerView: 1,
        spaceBetween: 24,
        pagination: {
            el: '.swiper-pagination-cards',
            clickable: true,
        },
    });
    document.querySelectorAll('.swiper-images').forEach(el => {
        new Swiper(el, {
            slidesPerView: 1,
            allowTouchMove: false,
            pagination: {
                el: el.querySelector('.swiper-pagination'),
                clickable: true,
            },
            navigation: {
                nextEl: el.querySelector('.swiper-button-next'),
                prevEl: el.querySelector('.swiper-button-prev'),
            },
        });
    });
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImage");
    const closeModal = document.getElementById("closeModal");
    document.querySelectorAll(".project-image").forEach(img => {
        img.addEventListener("click", () => {
            modal.style.display = "flex";
            modalImg.src = img.src;
        });
    });
    closeModal.onclick = () => {
        modal.style.display = "none";
    };
    modal.onclick = (e) => {
        if (e.target === modal) {
            modal.style.display = "none";
        }
    };
</script>

</body>
</html>